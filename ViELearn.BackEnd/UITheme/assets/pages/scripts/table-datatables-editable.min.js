var TableDatatablesEditable = function() {
        var e = function() {
            function e(e, t) {
                for (var n = e.fnGetData(t), a = $(">td", t), l = 0, r = a.length; r > l; l++) e.fnUpdate(n[l], t, l, !1);
                e.fnDraw()
            }

            function t(e, t) {
                var n = e.fnGetData(t),
                    a = $(">td", t);
                a[0].innerHTML = '<input type="text" class="form-control input-small" value="' + n[0] + '">', 
                a[1].innerHTML = '<input type="text" class="form-control input-small" value="' + n[1] + '">', 
    //             a[2].innerHTML = '<input type="text" class="form-control input-small" value="' + n[2] + '">', 
    //             a[3].innerHTML = '<input type="text" class="form-control input-small" value="' + n[3] + '">', 
				// a[4].innerHTML = '<input type="text" class="form-control input-small" value="' + n[4] + '">', 
				a[2].innerHTML = '<a class="edit" href="">Lưu</a>', 
				a[3].innerHTML = '<a class="cancel" href="">Thôi</a>'
            }

            function n(e, t) {
                var n = $("input", t);
                e.fnUpdate(n[0].value, t, 0, !1), 
                e.fnUpdate(n[1].value, t, 1, !1), 
    //             e.fnUpdate(n[2].value, t, 2, !1), 
				// e.fnUpdate(n[3].value, t, 3, !1), 
    //             e.fnUpdate(n[4].value, t, 4, !1), 
				e.fnUpdate('<a class="edit" href="">Sửa</a>', t, 2, !1), 
				e.fnUpdate('<a class="delete" href="">Xóa</a>', t, 3, !1), 
				e.fnDraw()
            }
            var a = $("#sample_editable_1"),
                l = a.dataTable({
                    lengthMenu: [
                        [25, 50, 100, -1],
                        [25, 50, 100, "Tất cả"]
                    ],
                    //pageLength: 5,
                    language: {
                        lengthMenu: "Hiển thị _MENU_ bản ghi",
                        search: "Tìm kiếm",
                        info: "Đang ở trang _PAGE_ / _PAGES_ trang",
                        zeroRecords: "Không có bản ghi nào!",
                        infoEmpty: "Không có bản ghi nào!"
                    },
                    columnDefs: [{
                        orderable: !0,
                        targets: [0]
                    }, {
                        searchable: !0,
                        targets: [0]
                    }],
                    order: [
                        [0,
                            "asc"
                        ]
                    ]
                }),
                r = ($("#sample_editable_1_wrapper"), null),
                o = !1;
            $("#sample_editable_1_new").click(function(e) {
                if (e.preventDefault(), o && r) {
                    if (!confirm("Bản ghi cũ chưa được lưu. Đồng chí muốn lưu luôn không ?")) return l.fnDeleteRow(r), r = null, void(o = !1);
                    n(l, r), $(r).find("td:first").html("Untitled"), r = null, o = !1
                }
                var a = l.fnAddData(["",
                        "",
                        "",
                        "",
                        "",
                        ""
                    ]),
                    i = l.fnGetNodes(a[0]);
                t(l,
                        i),
                    r = i,
                    o = !0
            }),
            a.on("click", ".delete",
                function(e) {
                    if (e.preventDefault(), 0 != confirm("Đồng chí chắc chắn muốn xóa chứ ?")) {
                        var t = $(this).parents("tr")[0];
                        l.fnDeleteRow(t), alert("Đã xóa!! Do not forget to do some ajax to sync with backend :)")
                    }
                }
            ),
            a.on("click", ".cancel",
                function(t) {
                    t.preventDefault(), o ? (l.fnDeleteRow(r), r = null, o = !1) : (e(l, r), r = null)
                }
            ),
            a.on("click", ".edit",
                function(a) {
                    a.preventDefault(), o = !1;
                    var i = $(this).parents("tr")[0];
                    null !== r && r != i ? (e(l, r), t(l, i), r = i) : r == i && "Lưu" == this.innerHTML ? (n(l, r), r = null, alert("Đã lưu! Do not forget to do some ajax to sync with backend :)")) : (t(l, i), r = i)
                }
            )
        };
        return {
            init: function() {
                e()
            }
        }
    }
    ();
jQuery(document).ready(function() {
    TableDatatablesEditable.init()
});